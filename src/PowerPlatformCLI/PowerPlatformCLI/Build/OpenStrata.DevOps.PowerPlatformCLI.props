<!--
***********************************************************************************************
OpenStrata.DevOps.PowerPlatformCLI.props

WARNING:  DO NOT MODIFY this file unless you are knowledgeable about MSBuild and have
          created a backup copy.  Incorrect changes to this file will make it
          impossible to load or build your projects from the command-line or the IDE.

Copyright (c) 74Bravo LLC and Contributors. All rights reserved.. All rights reserved.
***********************************************************************************************
-->
<Project  xmlns='http://schemas.microsoft.com/developer/msbuild/2003' >

	<PropertyGroup>
		<IdeDevOpsBuildPath>$(MSBuildThisFileDirectory)</IdeDevOpsBuildPath>
	</PropertyGroup>	
	
	<PropertyGroup>
		<RefreshTargets>$(RefreshTargets);RefresheIdeDevopsTemplate</RefreshTargets>
	</PropertyGroup>

	<Target Name="RefresheIdeDevopsTemplate" DependsOnTargets="UpdateDotNetTemplates" >

		<Message Text="Updating Ide.Devops "  Importance="High"/>

		<Exec Command="dotnet new os-ide --force" WorkingDirectory="$(SolutionDir)"  IgnoreExitCode="true" IgnoreStandardErrorWarningFormat="true"  />

	</Target>	
	
	<PropertyGroup>

		<LocalDebugPackageFeedPath Condition="'$(LocalDebugPackageFeedPath)' == ''">C:\DebugPackages</LocalDebugPackageFeedPath>

		<PushAfterBuild Condition="'$(PushAfterBuild)'==''">false</PushAfterBuild>
		<PushAfterBuild Condition="'$(Configuration)'=='Release'">true</PushAfterBuild>

		<DotOstrataPath>$(SolutionDir).ostrata\</DotOstrataPath>

	</PropertyGroup>



	
</Project>
